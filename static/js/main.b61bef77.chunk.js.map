{"version":3,"sources":["components/Header/Header.module.scss","assets/img/logo.png","components/Header/index.js","components/Card/index.js","components/Loader.jsx","assets/img/sad.gif","assets/img/empty.png","redux/types.js","redux/actions.js","config.js","pages/Home.jsx","App.js","redux/initialState.js","redux/rootReducer.js","redux/pictureReducer.js","redux/store.js","index.js","components/Card/Card.module.scss"],"names":["module","exports","Header","onFilter","React","useState","filter","setFilter","className","styles","header","logo","width","height","src","alt","logo__text","logo__text__title","logo__text__subtitle","user","favorite__icon","active","onClick","Card","props","inFavorite","setFavorites","card__item","card__item__image","card__item__btn__favorite","onFavorite","image","filtered","card__item__btn__delete","onDelete","card__item__title","split","Loader","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","SET_FAVORITE","DELETE_PICTURE","LOAD_DATA","loadData","array","type","payload","API_URL","Home","isLoading","setLoading","dispatch","useDispatch","state","useSelector","pictures","useEffect","a","axios","get","itemsData","data","console","error","loadPictures","addToFavorites","picture","setFavorite","deletePictures","favorites","indexOf","deletePicture","length","Array","map","i","j","index","find","item","empty","sad","App","initialState","stateStr","localStorage","getItem","JSON","parse","e","loadFromLocalStorage","rootReducer","combineReducers","action","p","store","createStore","compose","window","__REDUX_DEVTOOLS_EXTENSION__","subscribe","getState","setItem","stringify","saveToLocalStorage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b61bef77.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1UinG\",\"logo\":\"Header_logo__1t4ye\",\"logo__text\":\"Header_logo__text__3BsI5\",\"logo__text__title\":\"Header_logo__text__title__3-4n7\",\"logo__text__subtitle\":\"Header_logo__text__subtitle__NsIzx\",\"user\":\"Header_user__cJvbK\",\"favorite__icon\":\"Header_favorite__icon__1iFrG\",\"active\":\"Header_active__hbzMY\"};","export default __webpack_public_path__ + \"static/media/logo.3bea42b7.png\";","import styles from './Header.module.scss';\r\nimport logo from '../../assets/img/logo.png';\r\nimport React from 'react';\r\n\r\nfunction Header({onFilter}) {\r\n    const [filter, setFilter] = React.useState(false);\r\n\r\n    const filterPictures = () => {\r\n        setFilter(!filter);\r\n        onFilter(!filter);\r\n    }\r\n    return (\r\n        <header className={styles.header}>\r\n            <div className={styles.logo}>\r\n                <img width={80} height={80} src={logo} alt=\"logo\" />\r\n            <div className={styles.logo__text}>\r\n                <p className={styles.logo__text__title}>REACT SHIBEGRAM</p>\r\n                <p className={styles.logo__text__subtitle}>Альбом фотографий</p>\r\n            </div>\r\n        </div>\r\n        <div className={styles.user}>\r\n          <div className={`${styles.favorite__icon} ${filter ? styles.active : ''}`} onClick={filterPictures}></div>\r\n        </div>\r\n      </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport styles from './Card.module.scss';\r\n\r\nfunction Card(props) {\r\n    const [inFavorite, setFavorites] = React.useState(props.inFavorite);\r\n\r\n    const onFavoriteBtn = () => {\r\n        props.onFavorite(props.image);\r\n        setFavorites(!inFavorite);\r\n    }\r\n\r\n    const onDeleteBtn = () => {\r\n        props.onDelete(props.image);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.card__item}>\r\n            <div className={styles.card__item__image}>\r\n                <div className={`${styles.card__item__btn__favorite} ${inFavorite ? styles.active : ''}`} onClick={onFavoriteBtn}></div>\r\n                {\r\n                    props.filtered || <div className={styles.card__item__btn__delete} onClick={onDeleteBtn}></div>\r\n                }\r\n                <img width={182} height={182} src={props.image} alt={props.image} />\r\n            </div>\r\n            <div className={styles.card__item__title}>\r\n                {props.image.split('/')[4]}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import ContentLoader from \"react-content-loader\"\r\n\r\nconst Loader = () => {\r\n    return (\r\n    <ContentLoader \r\n        speed={2}\r\n        width={210}\r\n        height={204}\r\n        viewBox=\"0 0 210 204\"\r\n        backgroundColor=\"#f3f3f3\"\r\n        foregroundColor=\"#ecebeb\"\r\n    >\r\n    <rect x=\"14\" y=\"10\" rx=\"40\" ry=\"40\" width=\"182\" height=\"182\" />\r\n    </ContentLoader>\r\n    )\r\n}\r\n\r\nexport default Loader","export default __webpack_public_path__ + \"static/media/sad.4a49f629.gif\";","export default __webpack_public_path__ + \"static/media/empty.92a0fd27.png\";","export const SET_FAVORITE = 'SET_FAVORITE';\r\nexport const DELETE_PICTURE = 'DELETE_PICTURE';\r\nexport const LOAD_DATA = 'LOAD_DATA';","import { SET_FAVORITE, DELETE_PICTURE, LOAD_DATA } from \"./types\";\r\n\r\nexport function setFavorite(picture) {\r\n    return {\r\n        type: SET_FAVORITE,\r\n        payload: picture\r\n    }\r\n}\r\n\r\nexport function deletePicture(picture) {\r\n    return {\r\n        type: DELETE_PICTURE,\r\n        payload: picture\r\n    }\r\n}\r\n\r\nexport function loadData(array) {\r\n    return {\r\n        type: LOAD_DATA,\r\n        payload: array\r\n    }\r\n}","export const API_URL = 'https://cors-anywhere.herokuapp.com/https://shibe.online/api/shibes?count=20&urls=true&httpsUrls=true';","import Card from \"../components/Card\";\r\nimport Loader from \"../components/Loader\";\r\nimport React from \"react\";\r\nimport sad from \"../assets/img/sad.gif\";\r\nimport empty from \"../assets/img/empty.png\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { deletePicture, loadData, setFavorite } from \"../redux/actions\";\r\nimport axios from \"axios\";\r\nimport { API_URL } from \"../config\";\r\n\r\nfunction Home({filtered}) {\r\n    const [isLoading, setLoading] = React.useState(true);\r\n    const dispatch = useDispatch();\r\n    const state = useSelector(state => state.pictures);\r\n\r\n    React.useEffect(() => {\r\n        async function loadPictures() {\r\n            try {\r\n                const itemsData = await axios.get(API_URL);\r\n    \r\n                setLoading(false);\r\n                dispatch(loadData(itemsData.data));\r\n            } catch(e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    \r\n        loadPictures();\r\n      }, [dispatch]);\r\n    \r\n    const addToFavorites = (picture) => {\r\n        dispatch(setFavorite(picture));\r\n    }\r\n\r\n    const deletePictures = (picture) => {\r\n        if (state.favorites.indexOf(picture) !== -1) addToFavorites(picture);\r\n        dispatch(deletePicture(picture));\r\n    }\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            {\r\n                state[`${filtered ? 'favorites' : 'pictures'}`].length \r\n                    ?   <>\r\n                            <div className=\"content__head\">\r\n                                <h2 className=\"content__title\">\r\n                                    {\r\n                                        filtered ? 'Избранное' : 'Все фотографии'\r\n                                    }\r\n                                </h2>\r\n                            </div>\r\n                            <div className=\"pictures__wrapper\">\r\n                                {\r\n                                    isLoading ? [...Array(20)].map((i,j) => <Loader key={j}/>) :\r\n                                        state[`${filtered ? 'favorites' : 'pictures'}`].map((image, index) => (\r\n                                            <Card\r\n                                                key={index+image}\r\n                                                image={image}\r\n                                                inFavorite={state.favorites.find(item => item === image) ? true : false}\r\n                                                onFavorite={picture => addToFavorites(picture)}\r\n                                                onDelete={picture => deletePictures(picture)}\r\n                                                filtered={filtered}\r\n                                            />\r\n                                        ))\r\n                                }\r\n                            </div>   \r\n                        </>\r\n                    :   <div className=\"pictures__empty\">\r\n                            <h2 className=\"content__title\">\r\n                                {\r\n                                    filtered ? 'В избранном ничего нет..' : 'Ooops..'\r\n                                }\r\n                            </h2>\r\n                            <div className=\"gif\">\r\n                                <img src={filtered ? empty : sad} alt=\"no_data\" />\r\n                            </div>\r\n                        </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\nimport Header from \"./components/Header\";\r\nimport Home from \"./pages/Home\";\r\n\r\nfunction App() {\r\n  const [filtered, setFilter] = React.useState(false);\r\n\r\n  const onFilter = () => {\r\n    setFilter(!filtered);\r\n  }\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <Header onFilter={onFilter}/>\r\n      <Home filtered={filtered}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const loadFromLocalStorage = () => {\r\n    try {\r\n        const stateStr = localStorage.getItem('favorites');\r\n        return stateStr ? JSON.parse(stateStr) : [];\r\n    } catch(e) {\r\n        console.error(e);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport const saveToLocalStorage = (favorites) => {\r\n    try {\r\n        localStorage.setItem('favorites', JSON.stringify(favorites));\r\n    } catch(e) {\r\n        console.error(e);\r\n    }\r\n}\r\n\r\nexport const initialState = {\r\n    pictures: [''],\r\n    favorites: loadFromLocalStorage()\r\n}","import { combineReducers } from \"redux\";\r\nimport { pictureReducer } from \"./pictureReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    pictures: pictureReducer\r\n});","import { initialState } from \"./initialState\";\r\nimport { SET_FAVORITE, DELETE_PICTURE, LOAD_DATA } from \"./types\";\r\n\r\nexport const pictureReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_FAVORITE:\r\n            return {\r\n                ...state, \r\n                favorites: [...state.favorites].find(i => i === action.payload) \r\n                                ? [...state.favorites].filter(i => i !== action.payload)\r\n                                : [...state.favorites, action.payload]\r\n            };\r\n        case DELETE_PICTURE:\r\n            return {...state, pictures: [...state.pictures].filter(p => p !== action.payload)};\r\n        case LOAD_DATA:\r\n            return {...state, pictures: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}","import { compose, createStore } from 'redux';\r\nimport { rootReducer } from './rootReducer';\r\n\r\nexport const store = createStore(rootReducer, compose(\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n));\r\n  ","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './assets/styles/style.scss';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { saveToLocalStorage } from './redux/initialState';\r\nimport { store } from './redux/store';\r\n\r\nstore.subscribe(() => {\r\n  const state = store.getState();\r\n  if (state.pictures?.favorites) saveToLocalStorage(state.pictures.favorites);\r\n});\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card__item\":\"Card_card__item__1bZkN\",\"card__item__btn__delete\":\"Card_card__item__btn__delete__24M8G\",\"card__item__btn__favorite\":\"Card_card__item__btn__favorite__1cVVn\",\"active\":\"Card_active__20WpT\",\"card__item__image\":\"Card_card__item__image__3oEsw\",\"card__item__title\":\"Card_card__item__title__I1Xy1\"};"],"sourceRoot":""}